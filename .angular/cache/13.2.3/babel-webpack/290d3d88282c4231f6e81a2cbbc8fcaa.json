{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nconst _c0 = function (a0) {\n  return {\n    \"fa-spin\": a0\n  };\n};\n\nfunction AuthComponent_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 35);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c0, ctx_r0.isLoading));\n  }\n}\n\nfunction AuthComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"label\", 36);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.loginForm.get(\"lErrorMsg\").value);\n  }\n}\n\nfunction AuthComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"small\", 37);\n    i0.ɵɵtext(2, \"Name Required.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"small\", 37);\n    i0.ɵɵtext(2, \"Invalid Email Address.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuthComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"small\", 37);\n    i0.ɵɵtext(2, \"Password must be between 6 to 20 chars.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AuthComponent = /*#__PURE__*/(() => {\n  class AuthComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.isLoading = false;\n    }\n\n    ngOnInit() {\n      this.loginForm = new FormGroup({\n        'lUsername': new FormControl(null, {\n          validators: [Validators.required, Validators.email]\n        }),\n        'lPassword': new FormControl(null, {\n          validators: [Validators.required, Validators.minLength(6)]\n        }),\n        'lErrorMsg': new FormControl(null)\n      });\n      this.signUpForm = new FormGroup({\n        'sUsername': new FormControl(null, {\n          validators: [Validators.required, Validators.email]\n        }),\n        'sPassword': new FormControl(null, {\n          validators: [Validators.required, Validators.minLength(6)]\n        }),\n        'sFirstName': new FormControl(null, {\n          validators: [Validators.required]\n        }),\n        'sLastName': new FormControl(null, {\n          validators: [Validators.required]\n        })\n      }); // this.authForm.setValue({lUsername: '', lPassword: ''});\n      // this.sf.reset();\n    } // Convienience Function\n\n\n    get lf() {\n      return this.loginForm.controls;\n    }\n\n    get sf() {\n      return this.signUpForm.controls;\n    }\n\n    onSignUp() {\n      this.isLoading = true;\n\n      if (this.signUpForm.invalid) {\n        this.isLoading = false;\n        return;\n      } // this.isLoading = true;\n\n\n      const newUser = {\n        username: this.sf.sUsername.value,\n        firstName: this.sf.sFirstName.value,\n        lastName: this.sf.sLastName.value\n      };\n      this.authService.createUser(newUser, this.sf.sPassword.value).subscribe(result => {\n        if (this.authService.getAuthUser() === '') {\n          this.signUpForm.setErrors({\n            'invalid': true\n          });\n        } else {\n          this.signUpForm.reset();\n          this.router.navigate(['']);\n        }\n      }, err => {\n        // this.authForm.patchValue({lErrorMsg: 'Invalid Username or Password'});\n        this.signUpForm.setErrors({\n          'invalid': true\n        });\n      });\n      this.isLoading = false;\n    }\n\n    onLogin() {\n      if (this.loginForm.invalid) {\n        return;\n      }\n\n      this.isLoading = true;\n      const newUser = {\n        username: this.lf.lUsername.value,\n        password: this.lf.lPassword.value\n      };\n      this.authService.loginUser(newUser).subscribe(result => {\n        if (this.authService.getAuthUser() === '') {\n          this.loginForm.patchValue({\n            lErrorMsg: 'Invalid Username or Password'\n          });\n          this.loginForm.setErrors({\n            'invalid': true\n          });\n        } else {\n          this.router.navigate(['']);\n          this.loginForm.patchValue({\n            lErrorMsg: ''\n          });\n          this.loginForm.reset();\n        }\n      }, err => {\n        this.loginForm.patchValue({\n          lErrorMsg: 'Invalid Username or Password'\n        });\n        this.loginForm.setErrors({\n          'invalid': true\n        });\n      });\n      this.isLoading = false;\n    }\n\n  }\n\n  AuthComponent.ɵfac = function AuthComponent_Factory(t) {\n    return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AuthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AuthComponent,\n    selectors: [[\"app-auth\"]],\n    decls: 75,\n    vars: 7,\n    consts: [[1, \"content\"], [\"class\", \"fa fa-spinner fa-5x spinner\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"container-fluid\", \"top-extra-pads\"], [1, \"row\", \"align-items-center\"], [1, \"col-md-4\", \"ml-auto\"], [1, \"card\"], [1, \"card-header\", \"card-header-info\"], [1, \"card-title\"], [1, \"card-category\"], [1, \"card-body\"], [3, \"formGroup\", \"submit\"], [1, \"row\"], [1, \"col-md-11\"], [1, \"form-group\"], [1, \"bmd-label-floating\"], [\"type\", \"email\", \"formControlName\", \"lUsername\", 1, \"form-control\"], [\"type\", \"password\", \"formControlName\", \"lPassword\", 1, \"form-control\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"row\", \"top-extra-pads\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", \"align-self-center\"], [1, \"clearfix\"], [1, \"vr\", \"d-none\", \"d-md-block\"], [1, \"hr\", \"d-block\", \"d-xs-block\", \"d-sm-block\", \"d-md-none\"], [1, \"col-md-5\", \"mr-auto\"], [1, \"card-header\", \"card-header-danger\"], [1, \"card-title\", \"text-right\"], [1, \"card-category\", \"text-right\"], [1, \"col-md-6\"], [\"type\", \"text\", \"formControlName\", \"sFirstName\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"sLastName\", 1, \"form-control\"], [1, \"col-md-12\"], [\"type\", \"email\", \"formControlName\", \"sUsername\", \"autocomplete\", \"off\", 1, \"form-control\"], [\"type\", \"password\", \"formControlName\", \"sPassword\", 1, \"form-control\"], [1, \"text-dark\", \"align-self-center\", \"font-weight-bold\", \"font-italic\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", \"ml-auto\"], [1, \"fa\", \"fa-spinner\", \"fa-5x\", \"spinner\", 3, \"ngClass\"], [1, \"text-danger\"], [\"id\", \"passwordLoginError\", 1, \"text-danger\"]],\n    template: function AuthComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵtemplate(2, AuthComponent_i_2_Template, 1, 3, \"i\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"h4\", 7);\n        i0.ɵɵtext(9, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 8);\n        i0.ɵɵtext(11, \"i am an existing user\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 9);\n        i0.ɵɵelementStart(13, \"form\", 10);\n        i0.ɵɵlistener(\"submit\", function AuthComponent_Template_form_submit_13_listener() {\n          return ctx.onLogin();\n        });\n        i0.ɵɵelementStart(14, \"div\", 11);\n        i0.ɵɵelementStart(15, \"div\", 12);\n        i0.ɵɵelementStart(16, \"div\", 13);\n        i0.ɵɵelementStart(17, \"label\", 14);\n        i0.ɵɵtext(18, \"Email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 11);\n        i0.ɵɵelementStart(21, \"div\", 12);\n        i0.ɵɵelementStart(22, \"div\", 13);\n        i0.ɵɵelementStart(23, \"label\", 14);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, AuthComponent_div_26_Template, 3, 1, \"div\", 17);\n        i0.ɵɵelementStart(27, \"div\", 18);\n        i0.ɵɵelementStart(28, \"button\", 19);\n        i0.ɵɵtext(29, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"div\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"div\", 21);\n        i0.ɵɵelement(32, \"div\", 22);\n        i0.ɵɵelementStart(33, \"div\", 23);\n        i0.ɵɵelementStart(34, \"div\", 5);\n        i0.ɵɵelementStart(35, \"div\", 24);\n        i0.ɵɵelementStart(36, \"h4\", 25);\n        i0.ɵɵtext(37, \"Create Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"p\", 26);\n        i0.ɵɵtext(39, \"i am a new user\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 9);\n        i0.ɵɵelementStart(41, \"form\", 10);\n        i0.ɵɵlistener(\"submit\", function AuthComponent_Template_form_submit_41_listener() {\n          return ctx.onSignUp();\n        });\n        i0.ɵɵelementStart(42, \"div\", 11);\n        i0.ɵɵelementStart(43, \"div\", 27);\n        i0.ɵɵelementStart(44, \"div\", 13);\n        i0.ɵɵelementStart(45, \"label\", 14);\n        i0.ɵɵtext(46, \"Fist Name*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"input\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"div\", 27);\n        i0.ɵɵelementStart(49, \"div\", 13);\n        i0.ɵɵelementStart(50, \"label\", 14);\n        i0.ɵɵtext(51, \"Last Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"input\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(53, AuthComponent_div_53_Template, 3, 0, \"div\", 17);\n        i0.ɵɵelementStart(54, \"div\", 11);\n        i0.ɵɵelementStart(55, \"div\", 30);\n        i0.ɵɵelementStart(56, \"div\", 13);\n        i0.ɵɵelementStart(57, \"label\", 14);\n        i0.ɵɵtext(58, \"Email address*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(59, \"input\", 31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(60, AuthComponent_div_60_Template, 3, 0, \"div\", 17);\n        i0.ɵɵelementStart(61, \"div\", 11);\n        i0.ɵɵelementStart(62, \"div\", 30);\n        i0.ɵɵelementStart(63, \"div\", 13);\n        i0.ɵɵelementStart(64, \"label\", 14);\n        i0.ɵɵtext(65, \"Password*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(66, \"input\", 32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(67, AuthComponent_div_67_Template, 3, 0, \"div\", 17);\n        i0.ɵɵelementStart(68, \"div\", 18);\n        i0.ɵɵelementStart(69, \"label\", 33);\n        i0.ɵɵelementStart(70, \"small\");\n        i0.ɵɵtext(71, \"* = Required\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"button\", 34);\n        i0.ɵɵtext(73, \"Create\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(74, \"div\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginForm.get(\"lErrorMsg\").value !== \"\");\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"formGroup\", ctx.signUpForm);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.sf.sFirstName.errors && ctx.sf.sFirstName.touched && (ctx.sf.sFirstName == null ? null : ctx.sf.sFirstName.value) !== \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.sf.sUsername.errors && ctx.sf.sUsername.touched && (ctx.sf.sUsername.value == null ? null : ctx.sf.sUsername.value.length) > 0);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.sf.sPassword.errors && ctx.sf.sPassword.touched && (ctx.sf.sPassword.value == null ? null : ctx.sf.sPassword.value.length) > 0);\n      }\n    },\n    directives: [i3.NgIf, i3.NgClass, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName],\n    styles: [\".top-extra-pads[_ngcontent-%COMP%]{padding-top:2rem}.vr[_ngcontent-%COMP%]{height:30rem;width:7px;border-radius:10px;background:linear-gradient(70deg,#937097,#e9b5f0);margin:30px}.hr[_ngcontent-%COMP%]{height:6px;width:100%;border-radius:10px;background:linear-gradient(60deg,#fa5151,#4ac6ec);margin:30px}.card-body[_ngcontent-%COMP%]{padding-bottom:2rem}button[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.spinner[_ngcontent-%COMP%]{color:#a9a9a9;position:absolute;top:30%;left:50%;margin-right:-50%;transform:translate(-50%,-50%)}\"]\n  });\n  return AuthComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}